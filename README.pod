=head1 NAME

Pod::Weaver::Section::Consumes - Add a list of roles to your POD.

=head1 VERSION

version 0.0083

=head1 SYNOPSIS

In your C<weaver.ini>:

    [Consumes]

=head1 DESCRIPTION

This L<Pod::Weaver> section plugin creates a "CONSUMES" section in your POD
which will contain a list of all the roles consumed by your class. It accomplishes
this by attempting to compile your class and interrogating its metaclass object.

Classes which do not have a C<meta> method will be skipped.

It rewrites pod only for *.pm files in lib.

=head1 CAVEAT

=head2 dzil listdeps trouble?

When does this plugin run?

This plugin runs every time you run dzil (as far as I can see; it's probably 
part of the podweaver plugin so it runs in one of Dist::Zilla's phases). The
trouble is that it is always run when listdeps executed.

What does it do?

It loads (at runtime) all your packages (classes). To do so it needs all 
dependencies fulfilled. So basically, it requires that all dependencies 
have to be fulfilled to run already before you run listdeps. That defeats
the purpose.

A possible workaround is to move weaver.ini in place only after all 
requirements have been installed. The trouble is that Dist::Zilla can't do this
for you since basically listdeps and podweaver run in the same phase. 

Another alternative is to use authordep directive in your dist.ini and install
missing requirements as authordeps. That works ok, although it is not ideal
either.

=head1 AUTHOR

Mike Friedman <friedo@friedo.com>

=head1 COPYRIGHT AND LICENSE

This software is copyright (c) 2013 by Mike Friedman.

This is free software; you can redistribute it and/or modify it under
the same terms as the Perl 5 programming language system itself.

